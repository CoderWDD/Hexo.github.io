<!DOCTYPE html><html lang="zh" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>CoderWdd</title><meta name="author" content="CoderWdd"><meta name="copyright" content="CoderWdd"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="referrer" content="no-referrer"><meta property="og:type" content="website">
<meta property="og:title" content="CoderWdd">
<meta property="og:url" content="https://coderwdd.top/index.html">
<meta property="og:site_name" content="CoderWdd">
<meta property="og:locale">
<meta property="og:image" content="https://coderwdd.top/img/favicon.png">
<meta property="article:author" content="CoderWdd">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://coderwdd.top/img/favicon.png"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://coderwdd.top/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: {"limitDay":500,"position":"top","messagePrev":"It has been","messageNext":"days since the last update, the content of the article may be outdated."},
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: 'Copy successfully',
    error: 'Copy error',
    noSupport: 'The browser does not support'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: 'days',
  date_suffix: {
    just: 'Just',
    min: 'minutes ago',
    hour: 'hours ago',
    day: 'days ago',
    month: 'months ago'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"Traditional Chinese Activated Manually","cht_to_chs":"Simplified Chinese Activated Manually","day_to_night":"Dark Mode Activated Manually","night_to_day":"Light Mode Activated Manually","bgLight":"#49b1f5","bgDark":"#1f1f1f","position":"bottom-left"},
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: true,
  islazyload: false,
  isAnchor: true
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'CoderWdd',
  isPost: false,
  isHome: true,
  isHighlightShrink: false,
  isToc: false,
  postUpdate: '2023-03-24 20:33:55'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 6.3.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/img/favicon.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">59</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">46</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">12</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div></div></div><div class="page" id="body-wrap"><header class="full_page" id="page-header" style="background-image: url('https://www.dmoe.cc/random.php')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">CoderWdd</a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="site-info"><h1 id="site-title">CoderWdd</h1><div id="site-subtitle"><span id="subtitle"></span></div><div id="site_social_icons"><a class="social-icon" href="https://github.com/CoderWDD" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:coderwdd@gmail.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div><div id="scroll-down"><i class="fas fa-angle-down scroll-down-effects"></i></div></header><main class="layout" id="content-inner"><div class="recent-posts" id="recent-posts"><div class="recent-post-item"><div class="post_cover left"><a href="/2023/03/24/android/advanced/sharedpreference-%E6%BA%90%E7%A0%81%E8%A7%A3%E6%9E%90/" title="SharedPreference_源码解析"><img class="post_bg" src="https://www.dmoe.cc/random.php" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="SharedPreference_源码解析"></a></div><div class="recent-post-info"><a class="article-title" href="/2023/03/24/android/advanced/sharedpreference-%E6%BA%90%E7%A0%81%E8%A7%A3%E6%9E%90/" title="SharedPreference_源码解析">SharedPreference_源码解析</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2023-03-24T12:32:03.000Z" title="Created 2023-03-24 20:32:03">2023-03-24</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/android/">Android</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/android/advanced/">Advanced</a></span></div><div class="content">带着问题学习
SharedPreference 是线程安全的吗？
SharedPreference 的 apply 和 commit 有什么区别？
SharedPreference 是否会阻塞主线程？
SharedPreference 的文件是存储在哪的？
SharedPreference 与应用程序之间是一对一的吗？

简介SharedPreference 是一种以 键值对 形式存储数据的存储方式，在使用的时候，可以指定是否将其共享，最终的 SharedPreference 文件是存储在对应应用的存储区的（具体的是 /data/data/packageName/shared_prefs），也就是说，默认其他应用是无法访问的
简单使用
获取 SharedPreference 实例
1val sharedPreferences = getSharedPreferences(&quot;SharedPreferencesFileName&quot;, MODE_PRIVATE)

获取 sharedPreferences 的编辑对象
1val editor = sharedPreferen ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2023/03/23/android/basics/handler-%E5%86%85%E5%AD%98%E6%B3%84%E6%BC%8F/" title="Handler_内存泄漏"><img class="post_bg" src="https://www.dmoe.cc/random.php" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Handler_内存泄漏"></a></div><div class="recent-post-info"><a class="article-title" href="/2023/03/23/android/basics/handler-%E5%86%85%E5%AD%98%E6%B3%84%E6%BC%8F/" title="Handler_内存泄漏">Handler_内存泄漏</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2023-03-23T04:50:40.000Z" title="Created 2023-03-23 12:50:40">2023-03-23</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/android/">Android</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/android/basics/">Basics</a></span></div><div class="content">带着问题学习
Handler 什么情况下会导致内存泄漏？
怎么避免 Handler 内存泄漏？

内存泄漏的原因匿名内部类 或 非静态内部类 会持有外部类的 隐式引用，如果内部类还没执行完，会导致外部类无法被回收
内存泄漏两种情况匿名内部类
Java代码：
123456Handler handler = new Handler()&#123;    @Override    public void handleMessage(Message msg) &#123;        super.handleMessage(msg);    &#125;&#125;;

Kotlin 代码：
123val handler = Handler() &#123;    true&#125;

非静态内部类
Java 代码：
1234567class CustomHandler extends Handler &#123;    @Override    public void handleMessage(Message msg) &#123;        switch (msg.what) & ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2023/03/21/android/intermediate/android%E5%B1%8F%E5%B9%95%E9%80%82%E9%85%8D%E6%96%B9%E6%A1%88/" title="Android屏幕适配方案"><img class="post_bg" src="https://www.dmoe.cc/random.php" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Android屏幕适配方案"></a></div><div class="recent-post-info"><a class="article-title" href="/2023/03/21/android/intermediate/android%E5%B1%8F%E5%B9%95%E9%80%82%E9%85%8D%E6%96%B9%E6%A1%88/" title="Android屏幕适配方案">Android屏幕适配方案</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2023-03-21T14:00:48.000Z" title="Created 2023-03-21 22:00:48">2023-03-21</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/android/">Android</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/android/intermediate/">Intermediate</a></span></div><div class="content">带着问题学习
什么是屏幕适配？
为什么需要屏幕适配？
PPI 是什么？与什么有关？
DPI 是什么？与什么有关？
DP 是什么？

屏幕适配是什么屏幕适配是指为 不同大小、不同分辨率 的 Android 设备提供优化的布局和资源，以确保应用程序在各种设备上的外观和性能都能得到良好的体验。
为什么需要屏幕适配市面上流行的 Android 设备五花八门，不同厂商不同型号不同规格的手机，可能在屏幕参数上，都会有差异，如果我们对所有的设备都使用同一套布局，那就可能导致在某些设备上，界面效果不能如我们预期设想的那样了。因此，为了让我们的应用在不同尺寸的设备上，都能有比较统一的表现，需要根据屏幕大小，进行一些适配。
相关概念PX——Pixel
即像素，常说的手机分辨率：1080 x 1920 指的是手机宽度可展示 1080 像素，高度可展示 1920 像素。

PPI——Pixels Per Inch
每英寸包含的物理像素数，取决于屏幕本身，PPI 值越大，图像显示越清晰。

公式


$$PPI &#x3D; \frac{\sqrt{\text{水平方向像素点数的平方 + 垂直方向像素点数的平方 ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2023/03/20/android/advanced/setcontentview-%E8%A7%A3%E6%9E%90/" title="setContentView_解析"><img class="post_bg" src="https://www.dmoe.cc/random.php" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="setContentView_解析"></a></div><div class="recent-post-info"><a class="article-title" href="/2023/03/20/android/advanced/setcontentview-%E8%A7%A3%E6%9E%90/" title="setContentView_解析">setContentView_解析</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2023-03-20T13:45:51.000Z" title="Created 2023-03-20 21:45:51">2023-03-20</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/android/">Android</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/android/advanced/">Advanced</a></span></div><div class="content">带着问题学习
setContentView() 方法干了什么？
setContentView() 的作用是什么？
setContentView() 是怎么把我们的 view 添加到界面上的？
添加 view 的操作是谁来完成的？

说明本次分析的代码，都是以 Activity 的 setContentView() 为基础的。至于 AppCompatActiivty 的 setContentView()，后面再说。
流程图以下的图表示调用关系

setContentView() 源码跟踪在我们创建一个 Activity 时，会在自动生成的代码中看到 onCreate()方法中默认有以下的代码
1234override fun onCreate(savedInstanceState: Bundle?) &#123;    super.onCreate(savedInstanceState)    setContentView(R.layout.activity_main)&#125;

可以看到，onCreate() 方法，不仅调用了其父类的 onCreate() 方法，还调用了 setC ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2023/03/18/android/advanced/threadpoolexecutor-%E8%A7%A3%E6%9E%90/" title="ThreadPoolExecutor_解析"><img class="post_bg" src="https://www.dmoe.cc/random.php" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="ThreadPoolExecutor_解析"></a></div><div class="recent-post-info"><a class="article-title" href="/2023/03/18/android/advanced/threadpoolexecutor-%E8%A7%A3%E6%9E%90/" title="ThreadPoolExecutor_解析">ThreadPoolExecutor_解析</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2023-03-18T12:00:52.000Z" title="Created 2023-03-18 20:00:52">2023-03-18</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/android/">Android</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/android/advanced/">Advanced</a></span></div><div class="content">带着问题学习
线程池是什么？
线程池有几种？
为什么要用线程池？
线程池的组成是什么样的？
不同线程池之间有什么差别？

简介苦于实在没有艺术天分，下面用 ChatGPT 生成的一个故事来引入线程池的各个核心概念

假设我们要在一个工厂中完成一些任务，这个工厂有很多工人和一些设备。为了让任务能够高效地完成，我们需要对这些工人和设备进行合理的管理和分配。
这些工人就是线程池中的 工作线程，他们可以执行各种任务，比如加工、装配、包装等。这些设备就是工作线程需要用到的资源，比如机器、工具等。
任务队列 就像是工厂中的订单，当一个任务到达时，会被添加到任务队列中等待工人来处理。
线程池管理器 就像是一个工厂管理员，负责管理工人和设备，调度工人完成任务，以达到最佳的生产效率。
线程工厂 就像是工厂的人力资源部门，用于创建线程池中的工作线程。可以自定义线程工厂来创建特定类型的工作线程，比如不同等级的工人等。

作用从上面的例子，可以看出，线程池主要用于 管理和复用 线程，以提高应用程序的性能和响应速度，其优点大致可以总结为以下几点：

提高性能：线程池能够复用已经创建的线程，减少线程创建和销毁的开 ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2023/03/18/android/advanced/handlerthread-%E6%BA%90%E7%A0%81%E8%A7%A3%E6%9E%90/" title="HandlerThread_源码解析"><img class="post_bg" src="https://www.dmoe.cc/random.php" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="HandlerThread_源码解析"></a></div><div class="recent-post-info"><a class="article-title" href="/2023/03/18/android/advanced/handlerthread-%E6%BA%90%E7%A0%81%E8%A7%A3%E6%9E%90/" title="HandlerThread_源码解析">HandlerThread_源码解析</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2023-03-18T08:19:16.000Z" title="Created 2023-03-18 16:19:16">2023-03-18</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/android/">Android</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/android/advanced/">Advanced</a></span></div><div class="content">带着问题学习
HandlerThread 是什么？
HandlerThread 怎么使用？
HandlerThread 的原理和使用场景是什么？
HandlerThread 的作用是什么？

简介
A Thread that has a Looper. The Looper can then be used to create Handlers.一个自带 Looper 的 Thread

作用HandlerThread 继承自 Thread，且内部自带一个 Looper，所以，可以用于处理耗时任务，特别是如果要在同一个线程中执行多次耗时任务时，用 HandlerThread 是个不错的选择
简单使用Handler 自定义12345678// kotlin中这么写，就是Java中的静态内部类class CustomHandler(activity: MainActivity2, looper: Looper) : Handler(looper) &#123;    // 弱引用    private var weakReference = WeakReference(activity)  ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2023/03/18/android/advanced/handler-%E6%BA%90%E7%A0%81%E8%A7%A3%E6%9E%90/" title="Handler_源码解析"><img class="post_bg" src="https://www.dmoe.cc/random.php" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Handler_源码解析"></a></div><div class="recent-post-info"><a class="article-title" href="/2023/03/18/android/advanced/handler-%E6%BA%90%E7%A0%81%E8%A7%A3%E6%9E%90/" title="Handler_源码解析">Handler_源码解析</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2023-03-18T08:18:57.000Z" title="Created 2023-03-18 16:18:57">2023-03-18</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/android/">Android</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/android/advanced/">Advanced</a></span></div><div class="content">带着问题学习
Handler 的作用是什么？
为什么在主线程中可以直接使用 Handler，而不需要创建 Looper？
为什么在子线程中不能直接使用 Handler，而要先用 Looper.prepare()？
Handler 的 post() 和 send 有什么区别？
Handler 的 postDelay() 是准确的延时吗？
Handler 中的 messageQueue 是什么样的结构？
Handler 中的死循环为什么不会一直占用 CPU 资源？
Handler、Looper、MessageQueue 之间是怎么工作的？

简介
Android 开发的世界里，流传着一个说法：只能在 UI 线程中更新 UI
但是我们耗时操作都是在子线程中进行的，而且往往执行完耗时操作，要把耗时操作的结果更新到界面中显示出来，这就避免不了要进行更新 UI 的操作，可是，我们是在子线程中获取到的结果，要怎么才能无痛地将结果显示到界面中呢？
这时候，就需要用到一种 线程间的消息机制：Handler，也就是说，Handler 主要是进行线程间通信的，也就是把 子线程 的消息，发送给 主线程，从而达 ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2023/03/17/android/advanced/retrofit-%E7%BC%93%E5%AD%98%E6%9C%BA%E5%88%B6/" title="Retrofit_缓存机制"><img class="post_bg" src="https://www.dmoe.cc/random.php" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Retrofit_缓存机制"></a></div><div class="recent-post-info"><a class="article-title" href="/2023/03/17/android/advanced/retrofit-%E7%BC%93%E5%AD%98%E6%9C%BA%E5%88%B6/" title="Retrofit_缓存机制">Retrofit_缓存机制</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2023-03-17T09:36:57.000Z" title="Created 2023-03-17 17:36:57">2023-03-17</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/android/">Android</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/android/advanced/">Advanced</a></span></div><div class="content">带着问题学习
怎么在 OkHttp 或 Retrofit 实现网络缓存
怎么根据不同的请求设置不同的缓存策略？
如何实现基于条件的网络请求，以减少数据传输？

在 Android 中使用 OkHttp 或 Retrofit 实现网络缓存的步骤配置OkHttp缓存创建一个Cache对象，并指定缓存目录和最大缓存大小。然后，使用OkHttpClient.Builder将缓存对象添加到OkHttp客户端。
1234567891011// 创建缓存目录File cacheDir = new File(context.getCacheDir(), &quot;networkCache&quot;);// 设置缓存大小int cacheSize = 10 * 1024 * 1024; // 10 MB// 创建缓存对象Cache cache = new Cache(cacheDir, cacheSize);// 配置OkHttp客户端OkHttpClient okHttpClient = new OkHttpClient.Builder()    .cache(cache)    .build() ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2023/03/16/algorithm/leetcode-15-%E4%B8%89%E6%95%B0%E4%B9%8B%E5%92%8C/" title="Leetcode_15-三数之和"><img class="post_bg" src="https://www.dmoe.cc/random.php" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Leetcode_15-三数之和"></a></div><div class="recent-post-info"><a class="article-title" href="/2023/03/16/algorithm/leetcode-15-%E4%B8%89%E6%95%B0%E4%B9%8B%E5%92%8C/" title="Leetcode_15-三数之和">Leetcode_15-三数之和</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2023-03-16T13:43:24.000Z" title="Created 2023-03-16 21:43:24">2023-03-16</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/algorithm/">Algorithm</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/algorithm/mid/">Mid</a></span></div><div class="content">题目链接Leetcode_15-三数之和
关键词green 、yellow 

解析
先不考虑去重的问题，首先最简单的做法就是三重循环，直接暴力，就可以把所有的可能都枚举出来了，但是，这样子无疑是要超时的。  
在暴力的基础上，考虑优化掉一重循环，因为题目要求的三数之和为0即可，所以，可以构造 双指针，也就是先固定第一个数 nums[i]，然后用双指针找出 nums[j] 和 nums[k]，这里假定 i &lt; j &lt; k
既然用了双指针，就需要先给 nums 排序，来给双指针创造条件
具体的做法是，让 j 从 i + 1 开始，而让 k 从 nums.length - 1 开始，也就是从两边忘中间逼近的双指针
如果对于 nums[i] + nums[j] + nums[k] &gt;= 0, 就可以考虑缩小 [j,k] 区间，具体做法，可以参考代码
对于去重，因为有序的特性，所以每次只需判断当前数是否和上一个的一样即可

代码12345678910111213141516171819class Solution &#123;    public List&lt;List&l ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2023/03/15/android/basics/architecture-mvc/" title="Architecture_MVC"><img class="post_bg" src="https://www.dmoe.cc/random.php" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Architecture_MVC"></a></div><div class="recent-post-info"><a class="article-title" href="/2023/03/15/android/basics/architecture-mvc/" title="Architecture_MVC">Architecture_MVC</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2023-03-15T05:08:41.000Z" title="Created 2023-03-15 13:08:41">2023-03-15</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/android/">Android</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/android/architecture/">Architecture</a></span></div><div class="content">带着问题学习
MVC 中三个字母分别代表什么？
MVC 中三个代表层的关系是怎么样的？
MVC 在 Android 中的实践应该怎么用？
在 Android 中，可以做到把 MVC 对应的三层都分离开吗？
什么情况下使用 MVC？
使用 MVC 有什么需要注意的地方吗？

常见的架构
MVC
MVP
MVVM
MVI

引入最近在学习 MVC、MVP、MVVM、MVI，在网上看到光关于 MVC 就有好几种流程图。具体的，在搜索引擎一搜，大概能看到以下这几种图：

对于一个 MVC 架构模式，就有这么多种流程图，到底哪个对的，还是说都是正确的，下面来看看维基百科上对于 MVC 的流程图：

对于维基百科上对于 MVC 的关系描述图，我还是比较认可的，至于为什么对同一个架构模式 MVC，会出现这么多种版本，我的看法是：各种说法应该都是合适的 MVC 架构，只是在具体代码实现和其描述的对象上，可能存在差别，导致了其在流程图的表示上有差别，其核心仍然是 MVC
MVC 简介如果按照上面所介绍的，各种版本都是 MVC，且其核心都是符合 MVC 的设计规范的，那么到底 MVC 的核心思想应该是怎么 ...</div></div></div><nav id="pagination"><div class="pagination"><span class="page-number current">1</span><a class="page-number" href="/page/2/#content-inner">2</a><span class="space">&hellip;</span><a class="page-number" href="/page/6/#content-inner">6</a><a class="extend next" rel="next" href="/page/2/#content-inner"><i class="fas fa-chevron-right fa-fw"></i></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/img/favicon.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">CoderWdd</div><div class="author-info__description"></div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">59</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">46</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">12</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/CoderWdd"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/CoderWDD" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:coderwdd@gmail.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>Announcement</span></div><div class="announcement_content">This is my Blog</div></div><div class="sticky_layout"><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>Recent Post</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2023/03/24/android/advanced/sharedpreference-%E6%BA%90%E7%A0%81%E8%A7%A3%E6%9E%90/" title="SharedPreference_源码解析"><img src="https://www.dmoe.cc/random.php" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="SharedPreference_源码解析"/></a><div class="content"><a class="title" href="/2023/03/24/android/advanced/sharedpreference-%E6%BA%90%E7%A0%81%E8%A7%A3%E6%9E%90/" title="SharedPreference_源码解析">SharedPreference_源码解析</a><time datetime="2023-03-24T12:32:03.000Z" title="Created 2023-03-24 20:32:03">2023-03-24</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/03/23/android/basics/handler-%E5%86%85%E5%AD%98%E6%B3%84%E6%BC%8F/" title="Handler_内存泄漏"><img src="https://www.dmoe.cc/random.php" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Handler_内存泄漏"/></a><div class="content"><a class="title" href="/2023/03/23/android/basics/handler-%E5%86%85%E5%AD%98%E6%B3%84%E6%BC%8F/" title="Handler_内存泄漏">Handler_内存泄漏</a><time datetime="2023-03-23T04:50:40.000Z" title="Created 2023-03-23 12:50:40">2023-03-23</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/03/21/android/intermediate/android%E5%B1%8F%E5%B9%95%E9%80%82%E9%85%8D%E6%96%B9%E6%A1%88/" title="Android屏幕适配方案"><img src="https://www.dmoe.cc/random.php" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Android屏幕适配方案"/></a><div class="content"><a class="title" href="/2023/03/21/android/intermediate/android%E5%B1%8F%E5%B9%95%E9%80%82%E9%85%8D%E6%96%B9%E6%A1%88/" title="Android屏幕适配方案">Android屏幕适配方案</a><time datetime="2023-03-21T14:00:48.000Z" title="Created 2023-03-21 22:00:48">2023-03-21</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/03/20/android/advanced/setcontentview-%E8%A7%A3%E6%9E%90/" title="setContentView_解析"><img src="https://www.dmoe.cc/random.php" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="setContentView_解析"/></a><div class="content"><a class="title" href="/2023/03/20/android/advanced/setcontentview-%E8%A7%A3%E6%9E%90/" title="setContentView_解析">setContentView_解析</a><time datetime="2023-03-20T13:45:51.000Z" title="Created 2023-03-20 21:45:51">2023-03-20</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/03/18/android/advanced/threadpoolexecutor-%E8%A7%A3%E6%9E%90/" title="ThreadPoolExecutor_解析"><img src="https://www.dmoe.cc/random.php" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="ThreadPoolExecutor_解析"/></a><div class="content"><a class="title" href="/2023/03/18/android/advanced/threadpoolexecutor-%E8%A7%A3%E6%9E%90/" title="ThreadPoolExecutor_解析">ThreadPoolExecutor_解析</a><time datetime="2023-03-18T12:00:52.000Z" title="Created 2023-03-18 20:00:52">2023-03-18</time></div></div></div></div><div class="card-widget card-categories"><div class="item-headline">
            <i class="fas fa-folder-open"></i>
            <span>Categories</span>
            <a class="card-more-btn" href="/categories/" title="More">
    <i class="fas fa-angle-right"></i></a>
            </div>
            <ul class="card-category-list" id="aside-cat-list">
            <li class="card-category-list-item "><a class="card-category-list-link" href="/categories/algorithm/"><span class="card-category-list-name">Algorithm</span><span class="card-category-list-count">27</span></a><ul class="card-category-list child"><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/algorithm/easy/"><span class="card-category-list-name">Easy</span><span class="card-category-list-count">6</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/algorithm/hard/"><span class="card-category-list-name">Hard</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/algorithm/mid/"><span class="card-category-list-name">Mid</span><span class="card-category-list-count">20</span></a></li></ul></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/android/"><span class="card-category-list-name">Android</span><span class="card-category-list-count">26</span></a><ul class="card-category-list child"><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/android/advanced/"><span class="card-category-list-name">Advanced</span><span class="card-category-list-count">15</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/android/architecture/"><span class="card-category-list-name">Architecture</span><span class="card-category-list-count">2</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/android/basics/"><span class="card-category-list-name">Basics</span><span class="card-category-list-count">3</span></a></li></ul></li>
            </ul></div><div class="card-widget card-tags"><div class="item-headline"><i class="fas fa-tags"></i><span>Tags</span></div><div class="card-tag-cloud"><a href="/tags/algorithm/" style="font-size: 1.5em; color: #99a9bf">Algorithm</a> <a href="/tags/android/" style="font-size: 1.5em; color: #99a9bf">Android</a> <a href="/tags/architecture/" style="font-size: 1.17em; color: #999c9f">Architecture</a> <a href="/tags/bfs/" style="font-size: 1.1em; color: #999">BFS</a> <a href="/tags/dfs/" style="font-size: 1.1em; color: #999">DFS</a> <a href="/tags/flutter/" style="font-size: 1.17em; color: #999c9f">Flutter</a> <a href="/tags/handler/" style="font-size: 1.3em; color: #99a1ac">Handler</a> <a href="/tags/handlerthread/" style="font-size: 1.1em; color: #999">HandlerThread</a> <a href="/tags/hashmap/" style="font-size: 1.1em; color: #999">HashMap</a> <a href="/tags/java/" style="font-size: 1.37em; color: #99a4b2">Java</a> <a href="/tags/jetpack/" style="font-size: 1.23em; color: #999ea6">Jetpack</a> <a href="/tags/okhttp/" style="font-size: 1.3em; color: #99a1ac">OkHttp</a> <a href="/tags/recyclerview/" style="font-size: 1.1em; color: #999">RecyclerView</a> <a href="/tags/retrofit/" style="font-size: 1.1em; color: #999">Retrofit</a> <a href="/tags/sharedpreference/" style="font-size: 1.1em; color: #999">SharedPreference</a> <a href="/tags/view/" style="font-size: 1.1em; color: #999">View</a> <a href="/tags/viewgroup/" style="font-size: 1.1em; color: #999">ViewGroup</a> <a href="/tags/setcontent/" style="font-size: 1.1em; color: #999">setContent</a> <a href="/tags/%E4%BA%8B%E4%BB%B6%E5%88%86%E5%8F%91/" style="font-size: 1.17em; color: #999c9f">事件分发</a> <a href="/tags/%E4%BA%8C%E5%88%86/" style="font-size: 1.1em; color: #999">二分</a> <a href="/tags/%E4%BD%8D%E8%BF%90%E7%AE%97/" style="font-size: 1.1em; color: #999">位运算</a> <a href="/tags/%E5%86%85%E5%AD%98%E6%B3%84%E6%BC%8F/" style="font-size: 1.1em; color: #999">内存泄漏</a> <a href="/tags/%E5%89%8D%E7%BC%80%E5%92%8C/" style="font-size: 1.17em; color: #999c9f">前缀和</a> <a href="/tags/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/" style="font-size: 1.43em; color: #99a6b9">动态规划</a> <a href="/tags/%E5%8D%95%E8%B0%83%E6%A0%88/" style="font-size: 1.1em; color: #999">单调栈</a> <a href="/tags/%E5%8F%8C%E5%90%91%E9%93%BE%E8%A1%A8/" style="font-size: 1.1em; color: #999">双向链表</a> <a href="/tags/%E5%8F%8C%E6%8C%87%E9%92%88/" style="font-size: 1.3em; color: #99a1ac">双指针</a> <a href="/tags/%E5%93%88%E5%B8%8C/" style="font-size: 1.17em; color: #999c9f">哈希</a> <a href="/tags/%E5%93%88%E5%B8%8C%E6%98%A0%E5%B0%84/" style="font-size: 1.1em; color: #999">哈希映射</a> <a href="/tags/%E5%9B%9E%E6%BA%AF/" style="font-size: 1.23em; color: #999ea6">回溯</a> <a href="/tags/%E5%A4%9A%E7%BA%BF%E7%A8%8B/" style="font-size: 1.1em; color: #999">多线程</a> <a href="/tags/%E5%AD%97%E7%AC%A6%E4%B8%B2/" style="font-size: 1.1em; color: #999">字符串</a> <a href="/tags/%E5%B1%8F%E5%B9%95%E9%80%82%E9%85%8D/" style="font-size: 1.1em; color: #999">屏幕适配</a> <a href="/tags/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/" style="font-size: 1.23em; color: #999ea6">性能优化</a> <a href="/tags/%E6%8E%92%E5%BA%8F/" style="font-size: 1.1em; color: #999">排序</a> <a href="/tags/%E6%95%B0%E4%BD%8Ddp/" style="font-size: 1.1em; color: #999">数位dp</a> <a href="/tags/%E6%95%B0%E7%BB%84/" style="font-size: 1.37em; color: #99a4b2">数组</a> <a href="/tags/%E6%96%B9%E5%90%91%E6%95%B0%E7%BB%84/" style="font-size: 1.1em; color: #999">方向数组</a> <a href="/tags/%E6%B7%B1%E6%90%9C/" style="font-size: 1.17em; color: #999c9f">深搜</a> <a href="/tags/%E6%BA%90%E7%A0%81/" style="font-size: 1.23em; color: #999ea6">源码</a></div></div><div class="card-widget card-archives"><div class="item-headline"><i class="fas fa-archive"></i><span>Archives</span></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/03/"><span class="card-archive-list-date">March 2023</span><span class="card-archive-list-count">19</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/02/"><span class="card-archive-list-date">February 2023</span><span class="card-archive-list-count">39</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/1970/01/"><span class="card-archive-list-date">January 1970</span><span class="card-archive-list-count">1</span></a></li></ul></div><div class="card-widget card-webinfo"><div class="item-headline"><i class="fas fa-chart-line"></i><span>Info</span></div><div class="webinfo"><div class="webinfo-item"><div class="item-name">Article :</div><div class="item-count">59</div></div><div class="webinfo-item"><div class="item-name">Run time :</div><div class="item-count" id="runtimeshow" data-publishDate="2022-12-11T16:00:00.000Z"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">UV :</div><div class="item-count" id="busuanzi_value_site_uv"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">PV :</div><div class="item-count" id="busuanzi_value_site_pv"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">Last Push :</div><div class="item-count" id="last-push-date" data-lastPushDate="2023-03-24T12:33:55.314Z"><i class="fa-solid fa-spinner fa-spin"></i></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2022 - 2023 By CoderWdd</div><div class="framework-info"><span>Framework </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>Theme </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div><div class="footer_custom_text">备案编号：桂ICP备2022010533号</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="darkmode" type="button" title="Toggle Between Light And Dark Mode"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="Toggle between single-column and double-column"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="Setting"><i class="fas fa-cog fa-spin"></i></button><button id="go-up" type="button" title="Back To Top"><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.js"></script><script>function panguFn () {
  if (typeof pangu === 'object') pangu.autoSpacingPage()
  else {
    getScript('https://cdn.jsdelivr.net/npm/pangu/dist/browser/pangu.min.js')
      .then(() => {
        pangu.autoSpacingPage()
      })
  }
}

function panguInit () {
  if (false){
    GLOBAL_CONFIG_SITE.isPost && panguFn()
  } else {
    panguFn()
  }
}

document.addEventListener('DOMContentLoaded', panguInit)</script><div class="js-pjax"><script>function subtitleType () {
  if (true) { 
    window.typed = new Typed("#subtitle", {
      strings: ["心有猛虎，细嗅蔷薇"],
      startDelay: 300,
      typeSpeed: 150,
      loop: true,
      backSpeed: 50
    })
  } else {
    document.getElementById("subtitle").innerHTML = '心有猛虎，细嗅蔷薇'
  }
}

if (true) {
  if (typeof Typed === 'function') {
    subtitleType()
  } else {
    getScript('https://cdn.jsdelivr.net/npm/typed.js/lib/typed.min.js').then(subtitleType)
  }
} else {
  subtitleType()
}</script></div><canvas class="fireworks" mobile="false"></canvas><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/fireworks.min.js"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/activate-power-mode.min.js"></script><script>POWERMODE.colorful = true;
POWERMODE.shake = true;
POWERMODE.mobile = false;
document.body.addEventListener('input', POWERMODE);
</script><script id="click-heart" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/click-heart.min.js" async="async" mobile="false"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>